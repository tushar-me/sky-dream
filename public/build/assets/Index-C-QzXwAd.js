import{a as fs,u as bs,I as ws,r as w,c,d as gs,w as g,_ as xs,e as s,h as l,l as is,m as p,v as m,f as a,j as _,t as f,n as b,g as cs}from"./app-DpswUAxI.js";import{_ as us}from"./LoadingButton-CDYKisr4.js";const vs=s("div",{class:"flex items-center justify-between p-5"},null,-1),hs={class:"relative container mx-auto"},ys={class:"grid grid-cols-3 gap-10"},Ps=s("div",{class:"col-span-1"},[s("div",null,[s("p",{class:"text-lg font-bold"},"Personal Information"),s("p",{class:"text-sm text-gray-700"},"Setup your personal admin profile")])],-1),ks={class:"col-span-2"},Vs={class:"flex items-center gap-8"},Us={class:"w-24 h-24 rounded-lg overflow-hidden"},Ss=["src"],Cs={class:"flex flex-col gap-2"},Ns={for:"profileupdate",class:"font-semibold text-gray-800 rounded-lg w-max bg-gray-200 px-4 py-2"},Ls=s("span",{class:"text-sm"},"JPG, PNG, SVG. 1MB max",-1),Ts={class:"w-full"},Bs=s("label",{for:"name",class:"text-sm block mb-2 font-semibold"},[l("Name"),s("span",{class:"text-red-500"},"*")],-1),Is=["disabled"],js={key:0,class:"text-red-500"},As={class:"w-full"},Gs=s("label",{for:"name",class:"text-sm block mb-2 font-semibold"},[l("Email"),s("span",{class:"text-red-500"},"*")],-1),Ms=["disabled"],Os={key:0,class:"text-red-500"},Rs={class:"grid grid-cols-3 gap-10 mt-16"},Ds=s("div",{class:"col-span-1"},[s("div",null,[s("p",{class:"text-lg font-bold"},"Change Your Password"),s("p",{class:"text-sm text-gray-700"},"update your new password.")])],-1),Es={class:"col-span-2"},Fs={class:"w-full"},$s=s("label",{for:"name",class:"text-sm block mb-2 font-semibold"},[l("Current Passord"),s("span",{class:"text-red-500"},"*")],-1),qs=["disabled"],Js={key:0,class:"text-red-500"},Ys={class:"w-full"},zs=s("label",{for:"name",class:"text-sm block mb-2 font-semibold"},[l("New Password"),s("span",{class:"text-red-500"},"*")],-1),Hs=["disabled"],Ks={key:0,class:"text-red-500"},Qs={class:"w-full"},Ws=s("label",{for:"name",class:"text-sm block mb-2 font-semibold"},[l("Confirm Password"),s("span",{class:"text-red-500"},"*")],-1),Xs=["disabled"],Zs={key:0,class:"text-red-500"},te={__name:"Index",setup(se){var y;const x=fs(),{sendRequest:v,loading:d,error:t}=bs(),u=ws(),i=w({name:u.user.name,email:u.user.email,image:{}}),ps=async()=>{var e;const o=await v({url:"/api/V1/profile-update",method:"POST",params:{_method:"PUT"},data:i.value});x.success((e=o==null?void 0:o.data)==null?void 0:e.message),await u.logout()},n=w({current_password:null,new_passwrod:null,confirm_password:null}),ms=async()=>{var e;const o=await v({url:"/api/V1/password-update",method:"POST",data:n.value});x.success((e=o==null?void 0:o.data)==null?void 0:e.message),await u.logout()};w({});const h=w((y=u.user)==null?void 0:y.image),_s=o=>{const e=o.target.files[0];i.value.image=e,h.value=URL.createObjectURL(e)};return(o,e)=>(c(),gs(xs,null,{default:g(()=>{var P,k,V,U,S,C,N,L,T,B,I,j,A,G,M,O,R,D,E,F,$,q,J,Y,z,H,K,Q,W,X,Z,ss,es,as,ts,os,rs,ls,ds,ns;return[vs,s("div",hs,[s("div",ys,[Ps,s("div",ks,[s("div",Vs,[s("div",Us,[s("img",{class:"w-full h-full",src:h.value,alt:""},null,8,Ss)]),s("div",Cs,[s("label",Ns,[l(" Change Avatar "),s("input",{class:"hidden",onChange:_s,type:"file",id:"profileupdate"},null,32)]),Ls])]),s("form",{onSubmit:is(ps,["prevent"]),class:"flex flex-col gap-5 mt-16"},[s("div",Ts,[Bs,p(s("input",{type:"text",disabled:a(d),"onUpdate:modelValue":e[0]||(e[0]=r=>i.value.name=r),class:"border disabled:bg-teal-50 border-primary rounded-md font-normal text-sm w-full focus:ring-primary focus:border-primary"},null,8,Is),[[m,i.value.name]]),(U=(V=(k=(P=a(t))==null?void 0:P.response)==null?void 0:k.data)==null?void 0:V.errors)!=null&&U.name?(c(),_("span",js,f((L=(N=(C=(S=a(t))==null?void 0:S.response)==null?void 0:C.data)==null?void 0:N.errors)==null?void 0:L.name[0]),1)):b("",!0)]),s("div",As,[Gs,p(s("input",{type:"text",disabled:a(d),"onUpdate:modelValue":e[1]||(e[1]=r=>i.value.email=r),class:"border disabled:bg-teal-50 border-primary rounded-md font-normal text-sm w-full focus:ring-primary focus:border-primary"},null,8,Ms),[[m,i.value.email]]),(j=(I=(B=(T=a(t))==null?void 0:T.response)==null?void 0:B.data)==null?void 0:I.errors)!=null&&j.email?(c(),_("span",Os,f((O=(M=(G=(A=a(t))==null?void 0:A.response)==null?void 0:G.data)==null?void 0:M.errors)==null?void 0:O.email[0]),1)):b("",!0)]),s("div",null,[cs(us,{isLoading:a(d)},{default:g(()=>[l("Update Profile")]),_:1},8,["isLoading"])])],32)])]),s("div",Rs,[Ds,s("div",Es,[s("form",{onSubmit:is(ms,["prevent"]),class:"flex flex-col gap-5"},[s("div",Fs,[$s,p(s("input",{type:"password",disabled:a(d),"onUpdate:modelValue":e[2]||(e[2]=r=>n.value.current_password=r),class:"border disabled:bg-teal-50 border-primary rounded-md font-normal text-sm w-full focus:ring-primary focus:border-primary"},null,8,qs),[[m,n.value.current_password]]),(F=(E=(D=(R=a(t))==null?void 0:R.response)==null?void 0:D.data)==null?void 0:E.errors)!=null&&F.current_password?(c(),_("span",Js,f((Y=(J=(q=($=a(t))==null?void 0:$.response)==null?void 0:q.data)==null?void 0:J.errors)==null?void 0:Y.current_password[0]),1)):b("",!0)]),s("div",Ys,[zs,p(s("input",{type:"password",disabled:a(d),"onUpdate:modelValue":e[3]||(e[3]=r=>n.value.new_passwrod=r),class:"border disabled:bg-teal-50 border-primary rounded-md font-normal text-sm w-full focus:ring-primary focus:border-primary"},null,8,Hs),[[m,n.value.new_passwrod]]),(Q=(K=(H=(z=a(t))==null?void 0:z.response)==null?void 0:H.data)==null?void 0:K.errors)!=null&&Q.new_passwrod?(c(),_("span",Ks,f((ss=(Z=(X=(W=a(t))==null?void 0:W.response)==null?void 0:X.data)==null?void 0:Z.errors)==null?void 0:ss.new_passwrod[0]),1)):b("",!0)]),s("div",Qs,[Ws,p(s("input",{type:"password",disabled:a(d),"onUpdate:modelValue":e[4]||(e[4]=r=>n.value.confirm_password=r),class:"border disabled:bg-teal-50 border-primary rounded-md font-normal text-sm w-full focus:ring-primary focus:border-primary"},null,8,Xs),[[m,n.value.confirm_password]]),(os=(ts=(as=(es=a(t))==null?void 0:es.response)==null?void 0:as.data)==null?void 0:ts.errors)!=null&&os.confirm_password?(c(),_("span",Zs,f((ns=(ds=(ls=(rs=a(t))==null?void 0:rs.response)==null?void 0:ls.data)==null?void 0:ds.errors)==null?void 0:ns.confirm_password[0]),1)):b("",!0)]),s("div",null,[cs(us,{isLoading:a(d)},{default:g(()=>[l("Update Password")]),_:1},8,["isLoading"])])],32)])])])]}),_:1}))}};export{te as default};
