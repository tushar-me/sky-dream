import{p as Q,u as W,a as X,r as H,o as Y,c as u,d as Z,w as I,_ as ee,e,t as c,m,v as p,f as l,j as _,n as b,g as se,h as f,l as ae}from"./app-BFr30E-g.js";import{_ as te}from"./LoadingButton-CvrtOJay.js";const le={class:"mb-10 text-primary text-xl font-medium"},oe={class:"flex items-center flex-wrap"},re={class:"w-1/2 pr-5 pb-4"},ie={class:"w-full"},ne=e("label",{for:"name",class:"text-sm block mb-2"},[f("Title "),e("span",{class:"text-red-500"},"*")],-1),de=["disabled"],ce={key:0,class:"text-red-500"},ue={class:"w-1/2 pr-5 pb-4"},me={class:"w-full"},pe=e("label",{for:"name",class:"text-sm block mb-2"},[f("Price "),e("span",{class:"text-red-500"},"*")],-1),_e=["disabled"],be={key:0,class:"text-red-500"},fe={class:"flex items-start gap-5 my-6"},ve={class:"w-full flex flex-col gap-3"},he=e("label",{class:"text-sm block mb-2"},"Short Description",-1),xe=["disabled"],ge={key:0,class:"text-red-500"},we={class:"w-full"},ye=e("h2",{class:"mb-2"},"Discription",-1),ke=["disabled"],De={class:"mt-5"},Ue={__name:"Add",setup(Ve){const r=Q(),{sendRequest:v,loading:n,error:i}=W(),J=X(),s=H({name:null,price:null,color:null,image:null,shortDescritions:null,details:null}),K=async()=>{var t,d;const a=await v({url:"/api/V1/package",method:"POST",data:{...s.value,id:((t=r==null?void 0:r.params)==null?void 0:t.id)??null}});x(),J.success((d=a==null?void 0:a.data)==null?void 0:d.message)},h=H("");Y(async()=>{var t;const a=await v({url:`/api/V1/package/${(t=r==null?void 0:r.params)==null?void 0:t.id}`,method:"GET"});x(a.data)});const x=a=>{a?(s.value.name=a==null?void 0:a.name,s.value.price=a.price,s.value.image=null,s.value.shortDescritions=a.shortDescritions,s.value.details=a.details,s.value.color=a.color,h.value=a.image):(s.value.name=null,s.value.price=null,s.value.image=null,s.value.shortDescritions=null,s.value.details=null,s.value.color=null,h.value=null)};return(a,t)=>(u(),Z(ee,null,{default:I(()=>{var d,g,w,y,k,D,V,P,T,U,N,S,$,B,C,E,M,A,L,O,R,j,q,F,G,z;return[e("form",{onSubmit:ae(K,["prevent"]),class:"bg-white shadow-md p-6 max-w-5xl mx-auto"},[e("h3",le,c((g=(d=a.$route)==null?void 0:d.params)!=null&&g.id?"Edit Package":"Create a New Package"),1),e("div",null,[e("div",oe,[e("div",re,[e("div",ie,[ne,m(e("input",{type:"text",disabled:l(n),"onUpdate:modelValue":t[0]||(t[0]=o=>s.value.name=o),class:"border border-primary rounded-md font-normal text-sm disabled:bg-teal-50 w-full focus:ring-primary focus:border-primary"},null,8,de),[[p,s.value.name]]),(D=(k=(y=(w=l(i))==null?void 0:w.response)==null?void 0:y.data)==null?void 0:k.errors)!=null&&D.name?(u(),_("span",ce,c((U=(T=(P=(V=l(i))==null?void 0:V.response)==null?void 0:P.data)==null?void 0:T.errors)==null?void 0:U.name[0]),1)):b("",!0)])]),e("div",ue,[e("div",me,[pe,m(e("input",{type:"text",disabled:l(n),"onUpdate:modelValue":t[1]||(t[1]=o=>s.value.price=o),class:"border disabled:bg-teal-50 border-primary rounded-md font-normal text-sm w-full focus:ring-primary focus:border-primary"},null,8,_e),[[p,s.value.price]]),(B=($=(S=(N=l(i))==null?void 0:N.response)==null?void 0:S.data)==null?void 0:$.errors)!=null&&B.price?(u(),_("span",be,c((A=(M=(E=(C=l(i))==null?void 0:C.response)==null?void 0:E.data)==null?void 0:M.errors)==null?void 0:A.price[0]),1)):b("",!0)])])]),e("div",fe,[e("div",ve,[e("div",null,[he,m(e("textarea",{disabled:l(n),rows:"5","onUpdate:modelValue":t[2]||(t[2]=o=>s.value.shortDescritions=o),class:"border border-primary rounded-md font-normal text-sm w-full disabled:bg-teal-50 focus:ring-primary focus:border-primary"},null,8,xe),[[p,s.value.shortDescritions]]),(j=(R=(O=(L=l(i))==null?void 0:L.response)==null?void 0:O.data)==null?void 0:R.errors)!=null&&j.shortDescritions?(u(),_("span",ge,c((z=(G=(F=(q=l(i))==null?void 0:q.response)==null?void 0:F.data)==null?void 0:G.errors)==null?void 0:z.shortDescritions[0]),1)):b("",!0)])])]),e("div",we,[ye,m(e("textarea",{rows:"8",disabled:l(n),"onUpdate:modelValue":t[3]||(t[3]=o=>s.value.details=o),class:"border border-primary rounded-md disabled:bg-teal-50 font-normal text-sm w-full focus:ring-primary focus:border-primary"},null,8,ke),[[p,s.value.details]])])]),e("div",De,[se(te,{isLoading:l(n)},{default:I(()=>{var o;return[f(c((o=a.$route.params)!=null&&o.id?"Update Package":"Save Package"),1)]}),_:1},8,["isLoading"])])],32)]}),_:1}))}};export{Ue as default};
